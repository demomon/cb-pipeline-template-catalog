version: 1
type: pipeline-template
templateType: MULTIBRANCH
name: javaMavenMultibranch
parameters:
  - name: mavenAdditionalTargets
    type: string
    displayName: Additional Maven build targets
  - name: agentYaml
    type: string
    displayName: Yaml file for agent
    defaultValue: maven-jdk8-cache.yaml
  - name: repoName
    type: string
    displayName: GitHub repository name
  - name: repoOwner
    type: string
    displayName: GitHub repository owner
  - name: gitCredentialsId
    type: credentials
    displayName: CredentialsID for GitHub 
multibranch:
  branchSource:
    github:
      repoOwner: ${repoOwner}
      repository: ${repoName}
      credentialsId: ${gitCredentialsId}
  markerfile: catalog.properties
